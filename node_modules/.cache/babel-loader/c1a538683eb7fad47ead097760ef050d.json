{"ast":null,"code":"import { createImperativePromise } from 'awesome-imperative-promise'; // see https://stackoverflow.com/a/54825370/82609\n\nfunction onlyResolvesLast(asyncFunction) {\n  var cancelPrevious = null;\n\n  var wrappedFunction = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    cancelPrevious && cancelPrevious();\n    var initialPromise = asyncFunction.apply(void 0, args);\n\n    var _a = createImperativePromise(initialPromise),\n        promise = _a.promise,\n        cancel = _a.cancel;\n\n    cancelPrevious = cancel;\n    return promise;\n  };\n\n  return wrappedFunction; // TODO fix TS\n}\n\nexport { onlyResolvesLast };","map":null,"metadata":{},"sourceType":"module"}